<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Albany - User Profile</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1 class="logo">Albany</h1>
        <div class="nav-links">
            <a href="#"><i class="fas fa-home"></i> <span>Home</span></a>
            <a href="#"><i class="fas fa-car-alt"></i> <span>Services</span></a>
            <a href="#"><i class="fas fa-info-circle"></i> <span>About</span></a>
            <a href="#"><i class="fas fa-phone"></i> <span>Contact</span></a>
            <a href="#"><i class="fas fa-user"></i></a>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="container">
        <h1 class="page-title">Your Profile</h1>
        
        <div class="profile-grid">
            <!-- Sidebar -->
            <div class="profile-sidebar">
                <div class="profile-avatar">
                    <div id="profileAvatarWrapper" class="avatar-wrapper">
                        <img src="/api/placeholder/300/300" alt="User Avatar">
                        <div class="change-avatar" onclick="openAvatarModal()">
                            <i class="fas fa-camera"></i>
                        </div>
                    </div>
                    <div class="profile-name">John Smith</div>
                    <div class="membership-status">Premium Member</div>
                </div>
                
                <div class="profile-menu">
                    <a href="#" class="menu-item active" onclick="showTab('profile')">
                        <i class="fas fa-user"></i>
                        <span>Profile Information</span>
                    </a>
                    <a href="#" class="menu-item" onclick="showTab('services')">
                        <i class="fas fa-car"></i>
                        <span>Current Services</span>
                    </a>
                    <a href="#" class="menu-item" onclick="showTab('history')">
                        <i class="fas fa-history"></i>
                        <span>Service History</span>
                    </a>
                    <a href="#" class="menu-item" onclick="showTab('invoices')">
                        <i class="fas fa-file-invoice-dollar"></i>
                        <span>Invoices</span>
                    </a>
                    <a href="#" class="menu-item" onclick="showTab('vehicles')">
                        <i class="fas fa-car-alt"></i>
                        <span>Your Vehicles</span>
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
            
            <!-- Content Area -->
            <div class="profile-content">
                <!-- Profile Tab -->
                <div class="tab-content active" id="profile-tab">
                    <div class="content-header">
                        <span>Profile Information</span>
                    </div>
                    <div class="content-body">
                        <!-- <div class="alert alert-success">
                            <i class="fas fa-check-circle"></i> Your profile was last updated on March 20, 2025
                        </div> -->
                        
                        <h3 class="section-title">Personal Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">First Name</label>
                                <input type="text" class="form-control" value="John">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Last Name</label>
                                <input type="text" class="form-control" value="Smith">
                            </div>
                        </div>
                        
                        <h3 class="section-title">Contact Information <button class="btn btn-outline btn-sm" onclick="openVerifyModal('email')">Update Email</button></h3>
                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" class="form-control" value="john.smith@example.com" disabled>
                        </div>
                        
                        <div class="section-title">Phone Number <button class="btn btn-outline btn-sm" onclick="openVerifyModal('phone')">Update Phone</button></div>
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" value="+91 98451 64126" disabled>
                        </div>
                        
                        <h3 class="section-title">Address Information</h3>
                        <div class="form-group">
                            <label class="form-label">Street Address</label>
                            <input type="text" class="form-control" value="157 Gokul Nagar">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">City</label>
                                <input type="text" class="form-control" value="Salem">
                            </div>
                            <div class="form-group">
                                <label class="form-label">State</label>
                                <input type="text" class="form-control" value="India">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ZIP Code</label>
                                <input type="text" class="form-control" value="636001">
                            </div>
                        </div>
                        
                        <div style="text-align: right; margin-top: 2rem;">
                            <button class="btn btn-primary">Save Changes</button>
                        </div>
                    </div>
                </div>
                
                <!-- Current Services Tab -->
                <div class="tab-content" id="services-tab">
                    <div class="content-header">
                        <span>Current Services</span>
                    </div>
                    <div class="content-body">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i> Track your vehicle's service status in real-time
                        </div>
                        
                        <div class="service-status">
                            <div class="status-header">
                                <div class="status-title">Your Vehicles in Service</div>
                            </div>
                            
                            <div class="vehicle-status">
                                <div class="vehicle-card">
                                    <div class="vehicle-header">
                                        <div class="vehicle-name">Tesla Model 3</div>
                                        <div class="status-badge in-progress">In Progress</div>
                                    </div>
                                    <div class="vehicle-details">
                                        <div class="detail-row">
                                            <div class="detail-label">Service Type</div>
                                            <div class="detail-value">Full Maintenance</div>
                                        </div>
                                        <div class="detail-row">
                                            <div class="detail-label">Drop-off Date</div>
                                            <div class="detail-value">Mar 22, 2025</div>
                                        </div>
                                        <div class="detail-row">
                                            <div class="detail-label">Estimated Pickup</div>
                                            <div class="detail-value">Mar 24, 2025</div>
                                        </div>
                                        <div class="progress-steps">
                                            <div class="step completed">
                                                <div class="step-icon"><i class="fas fa-check"></i></div>
                                                <div class="step-label">Received</div>
                                            </div>
                                            <div class="step completed">
                                                <div class="step-icon"><i class="fas fa-check"></i></div>
                                                <div class="step-label">Diagnostic</div>
                                            </div>
                                            <div class="step current">
                                                <div class="step-icon"><i class="fas fa-wrench"></i></div>
                                                <div class="step-label">Repair</div>
                                            </div>
                                            <div class="step">
                                                <div class="step-icon"><i class="fas fa-flag-checkered"></i></div>
                                                <div class="step-label">Completed</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Service History Tab -->
                <div class="tab-content" id="history-tab">
                    <div class="content-header">
                        <span>Service History</span>
                    </div>
                    <div class="content-body">
                        <div class="history-list">
                            <div class="history-item">
                                <div class="history-header">
                                    <div class="vehicle-name">Toyota Camry</div>
                                    <div class="status-badge completed">Completed</div>
                                </div>
                                <div class="history-body">
                                    <div class="service-details">
                                        <div class="detail-row">
                                            <div class="detail-label">Service Date</div>
                                            <div class="detail-value">Jan 15, 2025</div>
                                        </div>
                                        <div class="detail-row">
                                            <div class="detail-label">Service Type</div>
                                            <div class="detail-value">Oil Change & Inspection</div>
                                        </div>
                                        <div class="detail-row">
                                            <div class="detail-label">Total Cost</div>
                                            <div class="detail-value">$157.50</div>
                                        </div>
                                    </div>
                                    <div class="service-list">
                                        <div class="service-list-item">
                                            <span>Engine Oil Replacement</span>
                                            <span>$45.00</span>
                                        </div>
                                        <div class="service-list-item">
                                            <span>Oil Filter</span>
                                            <span>$15.50</span>
                                        </div>
                                        <div class="service-list-item">
                                            <span>Comprehensive Vehicle Inspection</span>
                                            <span>$97.00</span>
                                        </div>
                                    </div>
                                    <div class="action-buttons">
                                        <button class="btn btn-outline btn-sm">View Details</button>
                                        <button class="btn btn-primary btn-sm">Download Invoice</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="history-item">
                                <div class="history-header">
                                    <div class="vehicle-name">Honda Civic</div>
                                    <div class="status-badge completed">Completed</div>
                                </div>
                                <div class="history-body">
                                    <div class="service-details">
                                        <div class="detail-row">
                                            <div class="detail-label">Service Date</div>
                                            <div class="detail-value">Dec 5, 2024</div>
                                        </div>
                                        <div class="detail-row">
                                            <div class="detail-label">Service Type</div>
                                            <div class="detail-value">Brake System Service</div>
                                        </div>
                                        <div class="detail-row">
                                            <div class="detail-label">Total Cost</div>
                                            <div class="detail-value">$345.75</div>
                                        </div>
                                    </div>
                                    <div class="service-list">
                                        <div class="service-list-item">
                                            <span>Brake Pad Replacement</span>
                                            <span>$220.00</span>
                                        </div>
                                        <div class="service-list-item">
                                            <span>Brake Fluid Flush</span>
                                            <span>$85.75</span>
                                        </div>
                                        <div class="service-list-item">
                                            <span>Rotor Inspection</span>
                                            <span>$40.00</span>
                                        </div>
                                    </div>
                                    <div class="action-buttons">
                                        <button class="btn btn-outline btn-sm">View Details</button>
                                        <button class="btn btn-primary btn-sm">Download Invoice</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Invoices Tab -->
                <div class="tab-content" id="invoices-tab">
                    <div class="content-header">
                        <span>Invoices</span>
                    </div>
                    <div class="content-body">
                        <div class="invoice-list">
                            <div class="invoice-item">
                                <div class="invoice-details">
                                    <div class="invoice-id">#INV-2025-0315</div>
                                    <div class="invoice-date">March 22, 2025</div>
                                    <div class="invoice-amount">$487.50</div>
                                </div>
                                <div class="invoice-actions">
                                    <button class="icon-button" title="View Invoice">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="icon-button" title="Download Invoice">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="icon-button" title="Print Invoice">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="invoice-item">
                                <div class="invoice-details">
                                    <div class="invoice-id">#INV-2025-0214</div>
                                    <div class="invoice-date">February 14, 2025</div>
                                    <div class="invoice-amount">$157.50</div>
                                </div>
                                <div class="invoice-actions">
                                    <button class="icon-button" title="View Invoice">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="icon-button" title="Download Invoice">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="icon-button" title="Print Invoice">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Vehicles Tab -->
                <div class="tab-content" id="vehicles-tab">
                    <div class="content-header">
                        <span>Your Vehicles</span>
                    </div>
                    <div class="content-body">
                        <div class="vehicles-grid">
                            <div class="vehicle-item">
                                <div class="vehicle-image">
                                    <img src="assets\Thar.jpg" alt="Thar">
                                </div>
                                <div class="vehicle-info">
                                    <h4>Thar</h4>
                                    <div class="detail-row">
                                        <div class="detail-label">Registration</div>
                                        <div class="detail-value">ABC-1234</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Year</div>
                                        <div class="detail-value">2022</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Mileage</div>
                                        <div class="detail-value">22,500 miles</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="vehicle-item">
                                <div class="vehicle-image">
                                    <img src="assets\XUV700.png" alt="XUV 700">
                                </div>
                                <div class="vehicle-info">
                                    <h4>Toyota Camry</h4>
                                    <div class="detail-row">
                                        <div class="detail-label">Registration</div>
                                        <div class="detail-value">XYZ-5678</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Year</div>
                                        <div class="detail-value">2020</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Mileage</div>
                                        <div class="detail-value">45,200 miles</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="add-vehicle-card" onclick="openAddVehicleModal()">
                                <div class="add-icon">
                                    <i class="fas fa-plus"></i>
                                </div>
                                <div>Add New Vehicle</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Avatar Selection Modal -->
    <div class="modal-overlay" id="avatarModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Choose Avatar</div>
                <button class="modal-close" onclick="closeModal('avatarModal')" aria-label="Close Avatar Modal">×</button>
            </div>
            <div class="modal-body" id="avatarOptions">
                <!-- Avatar Selection Content Goes Here -->
            </div>
        </div>
    </div>

    <!-- OTP Verification Modal -->
    <div class="modal-overlay" id="otpModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Verify OTP</div>
                <button class="modal-close" onclick="closeModal('otpModal')" aria-label="Close OTP Modal">×</button>
            </div>
            <div class="modal-body">
                <p>Enter the 4-digit verification code sent to your <span id="verificationChannel"></span></p>
                <div class="otp-input-container">
                    <input type="text" maxlength="1" class="otp-input">
                    <input type="text" maxlength="1" class="otp-input">
                    <input type="text" maxlength="1" class="otp-input">
                    <input type="text" maxlength="1" class="otp-input">
                    
                </div>
                <div class="resend-otp">
                    <a href="#">Resend OTP</a>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal('otpModal')">Cancel</button>
                <button class="btn btn-primary">Verify</button>
            </div>
        </div>
    </div>

    <script>
        const avatars = [
            'assets/avatar1.png',
            'assets/avatar2.jpg',
            'assets/avatar3.png',
            'assets/avatar4.png',
            'assets/avatar5.png',
            
        ];
        function populateAvatars() {
            const avatarContainer = document.getElementById('avatarOptions');
            avatarContainer.innerHTML = ''; // Clear existing avatars

            avatars.forEach((avatarSrc, index) => {
                const avatarImg = document.createElement('img');
                avatarImg.src = avatarSrc;
                avatarImg.alt = `Avatar ${index + 1}`;
                avatarImg.classList.add('avatar-option');
                avatarImg.onclick = () => selectAvatar(avatarSrc);
                avatarContainer.appendChild(avatarImg);
            });
        }
        const AvatarManager = {
            // Key used for storing selected avatar in localStorage
            STORAGE_KEY: 'userSelectedAvatar',

            // Save the selected avatar
            saveAvatar(avatarSrc) {
                try {
                    localStorage.setItem(this.STORAGE_KEY, avatarSrc);
                } catch (error) {
                    console.error('Error saving avatar:', error);
                }
            },

            // Retrieve the saved avatar
            getSavedAvatar() {
                try {
                    return localStorage.getItem(this.STORAGE_KEY) || '/api/placeholder/300/300';
                } catch (error) {
                    console.error('Error retrieving avatar:', error);
                    return '/api/placeholder/300/300';
                }
            },

            // Update avatar on the profile page
            updateProfileAvatar() {
                const avatarImg = document.querySelector('#profileAvatarWrapper img');
                if (avatarImg) {
                    const savedAvatar = this.getSavedAvatar();
                    avatarImg.src = savedAvatar;
                    avatarImg.alt = 'User Selected Avatar';
                }
            }
        };
                function showTab(tabName) {
                    // Hide all tab contents
                    const tabs = document.querySelectorAll('.tab-content');
                    tabs.forEach(tab => tab.classList.remove('active'));

                    // Hide all menu items
                    const menuItems = document.querySelectorAll('.menu-item');
                    menuItems.forEach(item => item.classList.remove('active'));

                    // Show selected tab
                    document.getElementById(`${tabName}-tab`).classList.add('active');

                    // Highlight selected menu item
                    const activeMenuItem = document.querySelector(`.menu-item[onclick="showTab('${tabName}')"]`);
                    activeMenuItem.classList.add('active');
                }

                function openAvatarModal() {
                    document.getElementById('avatarModal').classList.add('active');
                    populateAvatars();
                }
                // Function to select an avatar
                // Modify your existing avatar selection function
        function selectAvatar(avatarSrc) {
            // Remove 'selected' class from all avatars
            document.querySelectorAll('.avatar-option').forEach(img => {
                img.classList.remove('selected');
            });

            // Add 'selected' class to the clicked avatar
            event.target.classList.add('selected');

            // Save the avatar
            AvatarManager.saveAvatar(avatarSrc);

            // Update the avatar in the profile page wrapper
            const profileAvatar = document.querySelector('#profileAvatarWrapper img');
            if (profileAvatar) {
                profileAvatar.src = avatarSrc;
            }

            // Close the modal
            closeModal('avatarModal');
        }

        // Ensure avatar is loaded when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Update avatar on profile page load
            AvatarManager.updateProfileAvatar();
        });


        document.addEventListener('DOMContentLoaded', () => {
            const savedAvatar = localStorage.getItem('selectedAvatar');
            if (savedAvatar) {
                document.getElementById('currentProfileIcon').src = savedAvatar;
            }
        });

        function openVerifyModal(channel) {
            document.getElementById('verificationChannel').textContent = channel;
            document.getElementById('otpModal').classList.add('active');
        }

        function openAddVehicleModal() {
            // Placeholder for add vehicle modal functionality
            alert('Add Vehicle Modal - To be implemented');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // OTP Input Auto Focus
        const otpInputs = document.querySelectorAll('.otp-input');
        otpInputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                if (e.target.value.length === 1 && index < otpInputs.length - 1) {
                    otpInputs[index + 1].focus();
                }
            });

            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && e.target.value.length === 0 && index > 0) {
                    otpInputs[index - 1].focus();
                }
            });
        });
    </script>
</body>
</html>